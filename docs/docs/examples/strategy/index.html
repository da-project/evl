<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.85.0" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>Strategy | </title>
<meta name="description" content="EVL library site"><meta property="og:title" content="Strategy" />
<meta property="og:description" content="This example is simply demonstrating how to use an EVL multimethod in a strategy pattern. This example does not present novelties but allows to compare with the standard implementation at the Wikipedia strategy pattern.
We implement the following feature: provide the duration played by a Kid, Teen or Adult with a Toy in the context of the weather.
The classes used in the example are defined in the preliminaries.
Implementation The multimethod has naturally three dimensions for the Person, Toy and Weather." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/examples/strategy/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2021-06-13T19:07:35+02:00" />

<meta itemprop="name" content="Strategy">
<meta itemprop="description" content="This example is simply demonstrating how to use an EVL multimethod in a strategy pattern. This example does not present novelties but allows to compare with the standard implementation at the Wikipedia strategy pattern.
We implement the following feature: provide the duration played by a Kid, Teen or Adult with a Toy in the context of the weather.
The classes used in the example are defined in the preliminaries.
Implementation The multimethod has naturally three dimensions for the Person, Toy and Weather.">
<meta itemprop="dateModified" content="2021-06-13T19:07:35+02:00" />
<meta itemprop="wordCount" content="556">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Strategy"/>
<meta name="twitter:description" content="This example is simply demonstrating how to use an EVL multimethod in a strategy pattern. This example does not present novelties but allows to compare with the standard implementation at the Wikipedia strategy pattern.
We implement the following feature: provide the duration played by a Kid, Teen or Adult with a Toy in the context of the weather.
The classes used in the example are defined in the preliminaries.
Implementation The multimethod has naturally three dimensions for the Person, Toy and Weather."/>




<link rel="preload" href="../../../scss/main.min.4f8223efbb2c711f4a11ec1de7c4f31fbb8d618b49c0f25bccb83951765705fc.css" as="style">
<link href="../../../scss/main.min.4f8223efbb2c711f4a11ec1de7c4f31fbb8d618b49c0f25bccb83951765705fc.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>


<style>

	a {
		color: #b91515;
	}
	
	.btn-get-started {
		background: #5c5e5a;
		color: white;
	}
	
	.btn-use-it {
		background: #800000;
		color: white;
	}

</style>



  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../../">
		<span class="navbar-logo"><svg version="1.2" baseProfile="tiny" width="43mm" height="43mm" viewBox="7450 5250 4300 4300" preserveAspectRatio="xMidYMid" fill-rule="evenodd" stroke-width="28.222" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" xmlns:ooo="http://xml.openoffice.org/svg/export" xmlns:xlink="http://www.w3.org/1999/xlink"><defs class="ClipPathGroup"><clipPath id="presentation_clip_path" clipPathUnits="userSpaceOnUse"><rect x="7450" y="5250" width="4300" height="4300"/></clipPath></defs><defs><font id="EmbeddedFont_1" horiz-adv-x="2048"><font-face font-family="DejaVu Sans embedded" units-per-em="2048" font-weight="bold" font-style="normal" ascent="1879" descent="476"/><missing-glyph horiz-adv-x="2048" d="M0 0H2047V2047H0V0z"/><glyph unicode="v" horiz-adv-x="1271" d="M31 1120H389L668 346l278 774h359L864 0H471L31 1120z"/><glyph unicode="l" horiz-adv-x="345" d="M172 1556H530V0H172V1556z"/><glyph unicode="E" horiz-adv-x="1033" d="M188 1493H1227V1202H573V924h615V633H573V291h676V0H188V1493z"/></font></defs><defs class="TextShapeIndex"><g ooo:slide="id1" ooo:id-list="id3 id4 id5"/></defs><defs class="EmbeddedBulletChars"><g id="bullet-char-template(57356)" transform="scale(0.00048828125,-0.00048828125)"><path d="M580 1141l583-570L580 0-4 571l584 570z"/></g><g id="bullet-char-template(57354)" transform="scale(0.00048828125,-0.00048828125)"><path d="M8 1128H1137V0H8V1128z"/></g><g id="bullet-char-template(10146)" transform="scale(0.00048828125,-0.00048828125)"><path d="M174 0 602 739 174 1481 1456 739 174 0zM1358 739 309 1346 659 739h699z"/></g><g id="bullet-char-template(10132)" transform="scale(0.00048828125,-0.00048828125)"><path d="M2015 739 1276 0H717l543 543H174V936H1260L717 1481h557l741-742z"/></g><g id="bullet-char-template(10007)" transform="scale(0.00048828125,-0.00048828125)"><path d="M0-2C-7 14-16 27-25 37L356 567C262 823 215 952 215 954c0 25 13 38 40 38 9 0 21-2 34-5 21 4 42 12 65 25l27-13L492 748l280 301 64-25 24 25c21-10 41-24 62-43-36-69-87-143-152-222-1-1-60-68-176-2e2L774 223c0-27-21-55-63-84l16-20c-10-29-28-43-55-43-31 0-102 102-215 305L164-76c-22-34-53-51-92-51-42 0-63 17-64 51C1-67-2-52-2-32-2-23-1-13 0-2z"/></g><g id="bullet-char-template(10004)" transform="scale(0.00048828125,-0.00048828125)"><path d="M285-33C182-33 111 30 74 156 52 228 41 333 41 471c0 78 14 145 41 201 34 71 87 106 158 106 53 0 88-31 106-94l23-176c8-64 28-97 59-98l735 706c11 11 33 17 66 17 42 0 63-15 63-46V965c0-36-10-64-30-84L442 47C390-6 338-33 285-33z"/></g><g id="bullet-char-template(9679)" transform="scale(0.00048828125,-0.00048828125)"><path d="M813 0C632 0 489 54 383 161 276 268 223 411 223 592s53 324 160 431c106 107 249 161 430 161 179 0 323-54 432-161 108-107 162-251 162-431s-54-324-162-431C1136 54 992 0 813 0z"/></g><g id="bullet-char-template(8226)" transform="scale(0.00048828125,-0.00048828125)"><path d="M346 457c-73 0-137 26-191 78-54 51-81 114-81 188 0 73 27 136 81 188s118 78 191 78 134-26 185-79c51-51 77-114 77-187 0-75-25-137-76-188-50-52-112-78-186-78z"/></g><g id="bullet-char-template(8211)" transform="scale(0.00048828125,-0.00048828125)"><path d="M-4 459H1135V606H-4V459z"/></g></defs><defs class="TextEmbeddedBitmaps"/><g class="SlideGroup"><g><g id="id1" class="Slide" clip-path="url(#presentation_clip_path)"><g class="Page"><g class="com.sun.star.drawing.CustomShape"><g id="id3"><g><defs><linearGradient id="gradient1" x1="8165" y1="4915" x2="11035" y2="9885" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#ddd"/><stop offset="1" style="stop-color:gray"/></linearGradient></defs><path style="fill:url(#gradient1)" d="M96e2 95e2H75e2V53e2h42e2V95e2H96e2z"/></g><path fill="none" stroke="rgb(185,21,21)" stroke-width="100" stroke-linejoin="miter" d="M96e2 95e2H75e2V53e2h42e2V95e2H96e2z"/></g></g><g class="com.sun.star.drawing.TextShape"><g id="id4"><text class="TextShape"><tspan class="TextParagraph" font-family="DejaVu Sans, sans-serif" font-size="2540" font-weight="700"><tspan class="TextPosition" x="7850" y="8283"/><tspan class="TextPosition" x="7850" y="8283"><tspan fill="rgb(128,0,0)" stroke="none">E</tspan></tspan></tspan></text></g></g><g class="com.sun.star.drawing.TextShape"><g id="id5"><text class="TextShape"><tspan class="TextParagraph" font-family="DejaVu Sans, sans-serif" font-size="1764" font-weight="700"><tspan class="TextPosition" x="9550" y="8263"/><tspan class="TextPosition" x="9550" y="8263"><tspan fill="rgb(84,0,0)" stroke="none">vl</tspan></tspan></tspan></text></g></g></g></g></g></g></svg></span><span class="text-uppercase font-weight-bold"></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="../../../docs/about/" ><span>What is EVL?</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="../../../docs/" ><span>Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="../../../apidocs/" ><span>Javadoc</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/ylegoc/evl" target="_blank" ><span>GitHub</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




  


<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    
    
    
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
    
      <a href="../../../docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
    
    
      
      <ul class="ul-1">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsabout-li">
    
      <a href="../../../docs/about/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsabout"><span class="">What is EVL?</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuse-li">
    
      <a href="../../../docs/use/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuse"><span class="">How to use EVL</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsthe-multimethods-li">
    
      <a href="../../../docs/the-multimethods/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsthe-multimethods"><span class="">The multimethods</span></a>
    
    
      
      <ul class="ul-2 foldable">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsthe-multimethodsbase-transform-li">
    
      <a href="../../../docs/the-multimethods/base-transform/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsthe-multimethodsbase-transform"><span class="">The base transform</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsthe-multimethodsdimension-two-li">
    
      <a href="../../../docs/the-multimethods/dimension-two/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsthe-multimethodsdimension-two"><span class="">In two dimensions</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsthe-multimethodsbest-match-li">
    
      <a href="../../../docs/the-multimethods/best-match/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsthe-multimethodsbest-match"><span class="">Best match</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsthe-multimethodschange-comparator-li">
    
      <a href="../../../docs/the-multimethods/change-comparator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsthe-multimethodschange-comparator"><span class="">Change comparator</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsthe-multimethodsambiguity-resolution-li">
    
      <a href="../../../docs/the-multimethods/ambiguity-resolution/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsthe-multimethodsambiguity-resolution"><span class="">Ambiguity resolution</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsthe-multimethodsmore-dimensions-li">
    
      <a href="../../../docs/the-multimethods/more-dimensions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsthe-multimethodsmore-dimensions"><span class="">More dimensions</span></a>
    
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docstheory-li">
    
      <a href="../../../docs/theory/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docstheory"><span class="">Theory</span></a>
    
    
      
      <ul class="ul-2 foldable">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstheorytuple-distance-li">
    
      <a href="../../../docs/theory/tuple-distance/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstheorytuple-distance"><span class="">Tuple of types distance</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstheorydistance-comparators-li">
    
      <a href="../../../docs/theory/distance-comparators/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstheorydistance-comparators"><span class="">Distance comparators</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstheorymultimethod-definition-li">
    
      <a href="../../../docs/theory/multimethod-definition/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstheorymultimethod-definition"><span class="">Multimethod definition</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstheorysearch-best-match-li">
    
      <a href="../../../docs/theory/search-best-match/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstheorysearch-best-match"><span class="">Search for the best match</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstheoryinvoke-li">
    
      <a href="../../../docs/theory/invoke/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstheoryinvoke"><span class="">Invoke with cache</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstheoryasymmetric-vs-symmetric-li">
    
      <a href="../../../docs/theory/asymmetric-vs-symmetric/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstheoryasymmetric-vs-symmetric"><span class="">Asymmetric vs symmetric</span></a>
    
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsmore-features-li">
    
      <a href="../../../docs/more-features/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsmore-features"><span class="">More features</span></a>
    
    
      
      <ul class="ul-2 foldable">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featuressuper-commands-li">
    
      <a href="../../../docs/more-features/super-commands/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featuressuper-commands"><span class="">Super commands</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featuresinterfaces-li">
    
      <a href="../../../docs/more-features/interfaces/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featuresinterfaces"><span class="">Interfaces</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featuresreturn-type-parameters-li">
    
      <a href="../../../docs/more-features/return-type-parameters/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featuresreturn-type-parameters"><span class="">Return type and parameters</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featuresswitch-li">
    
      <a href="../../../docs/more-features/switch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featuresswitch"><span class="">Switch</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featuresopen-access-li">
    
      <a href="../../../docs/more-features/open-access/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featuresopen-access"><span class="">Open access</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featuresprotected-access-li">
    
      <a href="../../../docs/more-features/protected-access/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featuresprotected-access"><span class="">Protected access</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featurescontrolled-extension-li">
    
      <a href="../../../docs/more-features/controlled-extension/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featurescontrolled-extension"><span class="">Controlled extension</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmore-featureserrors-li">
    
      <a href="../../../docs/more-features/errors/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmore-featureserrors"><span class="">Errors</span></a>
    
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsexamples-li">
    
      <a href="../../../docs/examples/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsexamples"><span class="">Examples</span></a>
    
    
      
      <ul class="ul-2 foldable">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplespreliminaries-li">
    
      <a href="../../../docs/examples/preliminaries/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplespreliminaries"><span class="">Preliminaries</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplesvisitor-li">
    
      <a href="../../../docs/examples/visitor/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesvisitor"><span class="">Visitor</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplesstateful-class-li">
    
      <a href="../../../docs/examples/stateful-class/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesstateful-class"><span class="">Stateful class</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplescomposition-li">
    
      <a href="../../../docs/examples/composition/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplescomposition"><span class="">Composition</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplesstate-li">
    
      <a href="../../../docs/examples/state/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesstate"><span class="">State</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplescomparator-li">
    
      <a href="../../../docs/examples/comparator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplescomparator"><span class="">Comparator</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsexamplesstrategy-li">
    
      <a href="../../../docs/examples/strategy/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-docsexamplesstrategy"><span class="td-sidebar-nav-active-item">Strategy</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplesfactory-li">
    
      <a href="../../../docs/examples/factory/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesfactory"><span class="">Factory</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplesobserver-li">
    
      <a href="../../../docs/examples/observer/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesobserver"><span class="">Observer</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplesqueue-li">
    
      <a href="../../../docs/examples/queue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesqueue"><span class="">Queue</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplestostring-li">
    
      <a href="../../../docs/examples/tostring/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplestostring"><span class="">ToString</span></a>
    
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsexamplestreewalker-li">
    
      <a href="../../../docs/examples/treewalker/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplestreewalker"><span class="">Tree walker</span></a>
    
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docswhy-li">
    
      <a href="../../../docs/why/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docswhy"><span class="">Why use EVL?</span></a>
    
    
  </li>

          
        
      </ul>
    
  </li>

    </ul>
  </nav>
</div>




          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
  
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
  
  </div>


            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#implementation">Implementation</a></li>
        <li><a href="#extension">Extension</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="../../../docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../docs/examples/">Examples</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../../docs/examples/strategy/">Strategy</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Strategy</h1>
	
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<p>This example is simply demonstrating how to use an EVL multimethod in a strategy pattern.
This example does not present novelties but allows to compare with the standard implementation at the Wikipedia <a href="https://en.wikipedia.org/wiki/Strategy_pattern">strategy pattern</a>.</p>
<p>We implement the following feature: provide the duration played by a <em>Kid</em>, <em>Teen</em> or <em>Adult</em> with a <em>Toy</em> in the context of the weather.</p>
<p>The classes used in the example are defined in the <a href="../../../docs/examples/preliminaries/">preliminaries</a>.</p>
<h3 id="implementation">Implementation</h3>
<p>The multimethod has naturally three dimensions for the <em>Person</em>, <em>Toy</em> and <em>Weather</em>. We propose some simple rules:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Method3&lt;Integer&gt; playDuration = <span style="color:#00a">new</span> Method3&lt;Integer&gt;()
		.<span style="color:#1e90ff">add</span>(<span style="color:#00a">new</span> Cases() {
	
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Person person, Toy toy, Weather weather) <span style="color:#00a">throws</span> CannotPlayException {
		<span style="color:#00a">throw</span> <span style="color:#00a">new</span> CannotPlayException();
	}
			
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Kid kid, Car car, Sunny sunny) {
		<span style="color:#00a">if</span> (kid.<span style="color:#1e90ff">getAge</span>() &gt; 6) {
			<span style="color:#00a">return</span> 40;
		}
		<span style="color:#00a">return</span> 20;
	}
	
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Kid kid, Car car, Rainy rainy) {
		<span style="color:#00a">if</span> (kid.<span style="color:#1e90ff">getAge</span>() &gt; 6) {
			<span style="color:#00a">return</span> 50;
		}
		<span style="color:#00a">return</span> 25;
	}
	
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Teen teen, Game game, Weather weather) {
		<span style="color:#00a">return</span> 100;
	}
	
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Adult adult, Game game, Rainy rainy) {
		<span style="color:#00a">return</span> 60;
	}
});
</code></pre></div><p>We covered all the cases by defining a default match method for (<em>Person</em>, <em>Toy</em>, <em>Weather</em>) that throws an exception.
Notice that an exception would be thrown by the multimethod but it is a better design to manage explicitly the case.<br>
For the <em>Kid</em> we return a duration that depends on his age.</p>
<p>To facilitate the test, we define a <em>test</em> method:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#0aa">void</span> <span style="color:#0a0">test</span>(Method3&lt;Integer&gt; playDuration, Person person, Toy toy, Weather weather) <span style="color:#00a">throws</span> Throwable {
	<span style="color:#00a">try</span> {
		System.<span style="color:#1e90ff">out</span>.<span style="color:#1e90ff">println</span>(person + <span style="color:#a50">&#34; is playing &#34;</span> + toy 
			+ <span style="color:#a50">&#34; with &#34;</span> + weather + <span style="color:#a50">&#34; weather during &#34;</span> + playDuration.<span style="color:#1e90ff">invoke</span>(person, toy, weather) + <span style="color:#a50">&#34; minutes&#34;</span>);
	}
	<span style="color:#00a">catch</span> (CannotPlayException e) {
		System.<span style="color:#1e90ff">out</span>.<span style="color:#1e90ff">println</span>(person + <span style="color:#a50">&#34; cannot play &#34;</span> + toy + <span style="color:#a50">&#34; with &#34;</span> + weather + <span style="color:#a50">&#34; weather&#34;</span>);
	}
}
</code></pre></div><p>We can test it:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Person kid = <span style="color:#00a">new</span> Kid(5);
Person teen = <span style="color:#00a">new</span> Teen(Sex.<span style="color:#1e90ff">GIRL</span>);
Person adult = <span style="color:#00a">new</span> Adult();

Toy car = <span style="color:#00a">new</span> Car(<span style="color:#a50">&#34;blue&#34;</span>);
Toy game = <span style="color:#00a">new</span> Game(3);

Weather weather = <span style="color:#00a">new</span> Rainy();

test(playDuration, kid, car, weather);
test(playDuration, teen, game, weather);
test(playDuration, adult, game, weather);
test(playDuration, adult, car, weather);

weather = <span style="color:#00a">new</span> Sunny();
		
test(playDuration, kid, car, weather);
test(playDuration, teen, game, weather);
test(playDuration, adult, game, weather);
test(playDuration, adult, car, weather);
</code></pre></div><p>The weather is changing from rainy to sunny and so the play duration.</p>
<h3 id="extension">Extension</h3>
<p>We realize that the behavior for the <em>Teen</em> must be refined to take into account the weather. 
The EVL multimethod allows to do it easily by simply adding some new match methods that will override the previous one:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">playDuration.<span style="color:#1e90ff">add</span>(<span style="color:#00a">new</span> Cases() {
			
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Teen teen, Game game, Sunny sunny) {
		<span style="color:#00a">return</span> 90;
	}
	
	<span style="color:#0aa">int</span> <span style="color:#0a0">match</span>(Teen teen, Game game, Rainy rainy) {
		<span style="color:#00a">return</span> 110;
	}
});
</code></pre></div><p>We can relaunch the test and we will obtain 110 for the <em>Teen</em>.</p>
<p>Notice that the match method (<em>Teen</em>, <em>Game</em>, <em>Weather</em>) is completely overriden by the new methods however it is still registered.
If a new <em>Cloudy</em> weather class would be added without any (<em>Teen</em>, <em>Game</em>, <em>Cloudy</em>) registered then it would apply.</p>
<p>This example shows that the multiple dimensions of the multimethod allow to implement a strategy pattern.
This example also demonstrates that the <strong>natural separation</strong> between the class definitions and their behavior - <em>Person</em> classes and the match methods of the <em>playDuration</em> multimethod.<br>
Some more dimensions can be added if necessary for managing a more precise context e.g. having a season state.</p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">

</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/ylegoc/evl" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 The EVL Authors All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>






 











<script src="../../../js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js" integrity="sha256-XHS4cMaVOTGnBfOQpJx&#43;TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin="anonymous"></script>




  </body>
</html>